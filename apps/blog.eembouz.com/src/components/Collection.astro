---
import type { Collection, OptionsCollection } from "../../config.ts";
import Article from "./Article.astro";

interface Props {
  year: Collection["year"];
  items: Collection["items"];
  options?: OptionsCollection;
}

const { year, items, options } = Astro.props;

const baseOptions: OptionsCollection = {
  showBadge: false,
  description: false,
  showYear: true,
  ...options,
};
---

<div class="flex flex-col md:flex-row gap-2">
  {baseOptions.showYear && <span class="text-[1.2rem] w-1/6 pt-4">{year}</span>}

  <div
    data-list__articles
    class="flex flex-1 flex-col divide-y divide-[var(--border-color)]"
  >
    {
      items.map((article) => (
        <Article props={article.props} options={baseOptions} />
      ))
    }
  </div>
</div>
